<div class="navbar__screenHeight" x-data="{ isOpen: false}">

  <!-- navbar for smaller screen less than 1024px start-->
  <nav class="navbar__smallerScreen" :class="{'translate-x-0 ease-in opacity-100':isOpen === true, '-translate-x-full ease-out opacity-0': isOpen === false}" >
    
    <!-- miru logo for smaller screen size Start -->
    <div class="flex justify-between" x-show="isOpen" @click.away="isOpen = false">
      <img class="h-10 w-auto pl-5" src="/miru-logo.svg" alt="miru web">
      <button class="navbar__smallerScreen_closeButton" @click="isOpen = false">
        <%= image_tag("cancel_button.svg", class:"block h-6 w-6") %>
      </button>
    </div>
    <!-- miru logo for smaller screen size end -->

    <!-- dashboard time_tracking team clients projects invoice report etc. Start -->
    <div class="border-t border-gray-200 pt-4 pb-3 pl-3">
      <% if current_user.has_any_role?(:owner, :admin) %>
        <a href="/dashboard" class="<%= request.path == "/dashboard" ? "navbar__smallerScreen_selected" : "navbar__smallerScreen_unselected" %> navbar__smallerScreen_titles"><%= t('navbar.dashboard') %></a>
      <% end %>
      <a href="/time-tracking" class="<%= request.path == "/time-tracking" ? "navbar__smallerScreen_selected" : "navbar__smallerScreen_unselected" %> navbar__smallerScreen_titles"><%= t('navbar.time_tracking') %></a>
      <a href="/team" class="<%= request.path == "/team" ? "navbar__smallerScreen_selected" : "navbar__smallerScreen_unselected" %> navbar__smallerScreen_titles"><%= t('navbar.team') %></a>
      <a href="/clients" class="<%= request.path == "/clients" ? "navbar__smallerScreen_selected" : "navbar__smallerScreen_unselected" %> navbar__smallerScreen_titles"><%= t('navbar.clients') %></a>
      <a href="/projects" class="<%= request.path == "/projects" ? "navbar__smallerScreen_selected" : "navbar__smallerScreen_unselected" %> navbar__smallerScreen_titles"><%= t('navbar.projects') %></a>
      <% if current_user.has_any_role?(:owner, :admin) %>
        <a href="/invoice" class="<%= request.path == "/invoice" ? "navbar__smallerScreen_selected" : "navbar__smallerScreen_unselected" %> navbar__smallerScreen_titles"><%= t('navbar.invoice') %></a>
        <a href="/report" class="<%= request.path == "/report" ? "navbar__smallerScreen_selected" : "navbar__smallerScreen_unselected" %> navbar__smallerScreen_titles"><%= t('navbar.report') %></a>
      <% end %>
    </div>
    <!-- dashboard time_tracking team clients projects invoice report etc. end -->

    <!-- profile menu for smaller screen start-->
    <div class="navbar__smallerScreen_profileMenu">

      <!-- profile deatails start -->
      <div class="px-4 flex items-center">
        <div class="navbar__smallerScreen_userDetails" role="menuitem" tabindex="-1" id="menu-item-0">
          <%= image_tag user_avatar(current_user), class: "mr-2 h-12 w-12 rounded-full"  %>
          <div class="pl-1 pr-2 py-5" role="none">
            <p class="navbar__smallerScreen_name" role="none">
              <%= current_user.full_name %>
            </p>
            <p class="navbar__smallerScreen_email" role="none">
              <%= current_user.email %>
            </p>
          </div>
        </div>

        <!-- notification icons start -->
        <button type="button" class="navbar__smallerScreen_notification">
          <span class="sr-only">View notifications</span>
          <%= image_tag("notification.svg", class:"h-6 w-6") %>
        </button>
        <!-- notification icons end -->

      </div>
      <!-- profile deatails end -->

      <div class="mt-3 px-4 space-y-1">
        <%= button_to profile_path, method: :get, class: "navbar__smallerScreen_profile_logout", id:"menu-item-0", role:"menuitem", tabindex:"-1" do %>
          <%= image_tag 'setting_icon.svg', class:"mr-3 h-5 w-5" %>
          <%= t('navbar.settings') %>
        <% end %>
        <%= button_to destroy_user_session_path, method: :delete, class: "navbar__smallerScreen_profile_logout", id:"menu-item-0", role:"menuitem", tabindex:"-1" do %>
          <%= image_tag 'logout_icon.svg', class:"mr-3 h-5 w-5" %>
          <%= t('navbar.logout') %>
        <% end %>
      </div>
    </div>
    <!-- profile menu for smaller screen end-->
  </nav>
  <!-- navbar for smaller screen less than 1024px end-->

  <!-- navbar start -->
  <div class="relative z-0 lg:flex-grow" >

    <!-- navbar for larger screen greater than 1024px start-->
    <div class="bg-white shadow">
      <div class="max-w-8xl mx-auto lg:divide-y lg:divide-gray-200 md:px-10 sm:px-6 px-3">
        <div class="relative h-16 flex justify-between">
        
          <!-- miru logo start -->
          <div class="relative z-10 flex">
            <div class="flex-shrink-0 flex items-center">
              <img class="block h-10 md:h-8 w-auto" src="/miru-logo.svg" alt="Workflow">
            </div>
          </div>
          <!-- miru logo end -->

          <!-- title smaller screen size -->
          <div class="relative z-0 flex-1 flex items-center justify-center xsm:absolute xsm:inset-0">
            <div class="block lg:hidden">
              <% if current_user.has_any_role?(:owner, :admin) %>
                <a href="/dashboard" class="<%= request.path == "/dashboard" ? "block" : "hidden" %> navbar__smallScreenSecond_titles">
                  <%= t('navbar.dashboard') %>
                </a>
              <% end %>
              <a href="/time-tracking" class="<%= request.path == "/time-tracking" ? "block" : "hidden" %> navbar__smallScreenSecond_titles">
                <%= t('navbar.time_tracking') %>
              </a>
              <a href="/team" class="<%= request.path == "/team" ? "block" : "hidden" %> navbar__smallScreenSecond_titles">
                <%= t('navbar.team') %>
              </a>
              <a href="/clients" class="<%= request.path == "/clients" ? "block" : "hidden" %> navbar__smallScreenSecond_titles">
                <%= t('navbar.clients') %>
              </a>
              <a href="/projects" class="<%= request.path == "/project" ? "block" : "hidden" %> navbar__smallScreenSecond_titles">
                <%= t('navbar.projects') %>
              </a>
              <% if current_user.has_any_role?(:owner, :admin) %>
                <a href="/invoice" class="<%= request.path == "/invoice" ? "block" : "hidden" %> navbar__smallScreenSecond_titles">
                  <%= t('navbar.invoice') %>
                </a>
              <% end %>
              <% if current_user.has_any_role?(:owner, :admin) %>
                <a href="/report" class="<%= request.path == "/report" ? "block" : "hidden" %> navbar__smallScreenSecond_titles">
                  <%= t('navbar.report') %>
                </a>
              <% end %>
            </div>
          </div>
          <!-- title smaller screen end -->

          <!-- dashboard time_tracking team clients projects invoice report etc. start -->
          <div class="relative z-0 flex-auto flex items-center justify-center sm:absolute sm:inset-0">
            <div class="hidden lg:block lg:flex lg:space-x-10 xl:pr-80">
              <% if current_user.has_any_role?(:owner, :admin) %>
                <a href="/dashboard" class="<%= request.path == "/dashboard" ? "navbar__largeScreen_selected" : "navbar__largeScreen_unselected" %> navbar__largeScreen_title">
                  <%= t('navbar.dashboard') %>
                </a>
              <% end %>
              <a href="/time-tracking" class="<%= request.path == "/time-tracking" ? "navbar__largeScreen_selected" : "navbar__largeScreen_unselected" %> navbar__largeScreen_title">
                <%= t('navbar.time_tracking') %>
              </a>
              <a href="/team" class="<%= request.path == "/team" ? "navbar__largeScreen_selected" : "navbar__largeScreen_unselected" %> navbar__largeScreen_title">
                <%= t('navbar.team') %>
              </a>
              <a href="/clients" class="<%= request.path == "/clients" ? "navbar__largeScreen_selected" : "navbar__largeScreen_unselected" %> navbar__largeScreen_title">
                <%= t('navbar.clients') %>
              </a>
              <a href="/projects" class="<%= request.path == "/project" ? "navbar__largeScreen_selected" : "navbar__largeScreen_unselected" %> navbar__largeScreen_title">
                <%= t('navbar.projects') %>
              </a>
              <% if current_user.has_any_role?(:owner, :admin) %>
                <a href="/invoice" class="<%= request.path == "/invoice" ? "navbar__largeScreen_selected" : "navbar__largeScreen_unselected" %> navbar__largeScreen_title">
                  <%= t('navbar.invoice') %>
                </a>
              <% end %>
              <% if current_user.has_any_role?(:owner, :admin) %>
                <a href="/report" class="<%= request.path == "/report" ? "navbar__largeScreen_selected" : "navbar__largeScreen_unselected" %> navbar__largeScreen_title">
                  <%= t('navbar.report') %>
                </a>
              <% end %>
            </div>
          </div>
          <!-- dashboard time_tracking team clients projects invoice report etc. end -->

          <!-- hamburger icons start -->
          <div class="relative z-10 flex items-center lg:hidden">
            <!-- Mobile menu button -->
            <button type="button" class="navbar__hamburger" @click="isOpen = !isOpen" @keydown.escape="isOpen = false" aria-controls="mobile-menu" aria-expanded="false">
              <span class="sr-only">Open menu</span>
              <%= image_tag("mobile-menu.svg", class:"block h-6 w-6") %>
            </button>
          </div>
          <!-- hamburger icons end -->

          <!-- notification and profile icons start -->
          <div class="hidden lg:relative lg:z-10 lg:ml-4 lg:flex lg:items-center">
            
            <!-- notification button start -->
            <button type="button" class="navbar__largeScreen_notification">
              <span class="sr-only">View notifications</span>
              <%= image_tag("notification.svg", class:"h-6 w-6") %>
            </button>
            <!-- notification button end -->

            <!-- profile dropdown start -->
            <div class="ml-3 relative" x-data="{ isOpen: false}">

              <div class="navbar__user_profile">
                <button type="button" class="navbar__user_menu" id="user-menu-button" aria-expanded="false" aria-haspopup="true" @click="isOpen = !isOpen" @keydown.escape="isOpen = false">
                  <span class="sr-only">Open user menu</span>
                  <img class="h-8 w-8 p-1 rounded-full" src="/avatar.svg" alt="profile">
                </button>
              </div>

              <!-- profile menu for large screen start-->
              <div x-show="isOpen" @click.away="isOpen = false">
                <div class="navbar__open_profile_menu" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1">

                  <div class="navbar__profileMenu_avatar" role="menuitem" tabindex="-1" id="menu-item-0">
                    <%= image_tag user_avatar(current_user), class: "mr-2 h-12 w-12 rounded-full"  %>

                    <div class="pl-1 pr-2 py-5" role="none">
                      <p class="navbar__profileMenu_name" role="none">
                        <%= current_user.full_name %>
                      </p>
                      <p class="navbar__profileMenu_email" role="none">
                        <%= current_user.email %>
                      </p>
                    </div>
                  </div>

                  <%= button_to profile_path, method: :get, class: "navbar__profileMenu_settings", id:"menu-item-0", role:"menuitem", tabindex:"-1" do %>
                    <%= image_tag 'setting_icon.svg', class:"mr-3 h-5 w-5" %>
                    <%= t('navbar.settings') %>
                  <% end %>
                  <%= button_to destroy_user_session_path, method: :delete, class: "navbar__profileMenu_logout", id:"menu-item-0", role:"menuitem", tabindex:"-1" do %>
                    <%= image_tag 'logout_icon.svg', class:"mr-3 h-5 w-5" %>
                    <%= t('navbar.logout') %>
                  <% end %>
                </div>
              </div>
              <!-- profile menu for large screen end-->

            </div>
            <!-- profile dropdown end -->

          </div>
          <!-- notification and profile icons end -->

        </div>
      </div>
    </div>
    <!-- navbar for larger screen greater than 1024px end -->

    <%= yield %>
  </div>
  <!-- navbar start end -->

</div>
