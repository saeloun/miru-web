"use strict";(self.webpackChunkmiru_docs=self.webpackChunkmiru_docs||[]).push([[749],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=p(a),m=r,h=d["".concat(o,".").concat(m)]||d[m]||c[m]||l;return a?n.createElement(h,i(i({ref:t},u),{},{components:a})):n.createElement(h,i({ref:t},u))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var p=2;p<l;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},6782:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>c,frontMatter:()=>l,metadata:()=>s,toc:()=>p});var n=a(7462),r=(a(7294),a(3905));const l={id:"ubuntu-debian",title:"Ubuntu / Debian"},i=void 0,s={unversionedId:"contributing-guide/setup/ubuntu-debian",id:"contributing-guide/setup/ubuntu-debian",title:"Ubuntu / Debian",description:"Installation",source:"@site/docs/contributing-guide/setup/ubuntu_debian.md",sourceDirName:"contributing-guide/setup",slug:"/contributing-guide/setup/ubuntu-debian",permalink:"/contributing-guide/setup/ubuntu-debian",draft:!1,editUrl:"https://github.com/saeloun/miru-docs/edit/main/docs/contributing-guide/setup/ubuntu_debian.md",tags:[],version:"current",lastUpdatedBy:"Akhil G Krishnan",lastUpdatedAt:1695920966,formattedLastUpdatedAt:"Sep 28, 2023",frontMatter:{id:"ubuntu-debian",title:"Ubuntu / Debian"},sidebar:"tutorialSidebar",previous:{title:"Mac OS",permalink:"/contributing-guide/setup/macos"},next:{title:"Testing",permalink:"/category/testing"}},o={},p=[{value:"Installation",id:"installation",level:2},{value:"1. Fork repository to your account",id:"1-fork-repository-to-your-account",level:4},{value:"2. Clone the repo to local",id:"2-clone-the-repo-to-local",level:4},{value:"3. Install rvm and nvm",id:"3-install-rvm-and-nvm",level:4},{value:"4. Install Ruby",id:"4-install-ruby",level:4},{value:"5. Install Node 18.14.2(can be skipped if you followed the tip mentioned in (3) above)",id:"5-install-node-18142can-be-skipped-if-you-followed-the-tip-mentioned-in-3-above",level:4},{value:"6. Install Postgres",id:"6-install-postgres",level:4},{value:"7. Install Elasticsearch",id:"7-install-elasticsearch",level:4},{value:"8. Install Redis",id:"8-install-redis",level:4},{value:"9. Setup the app",id:"9-setup-the-app",level:4},{value:"10. Run app in local env",id:"10-run-app-in-local-env",level:4},{value:"11. Navigate to http://0.0.0.0:3000 for accessing the app",id:"11-navigate-to-http00003000-for-accessing-the-app",level:4},{value:"To receive the emails in non-production apps.",id:"to-receive-the-emails-in-non-production-apps",level:3},{value:"Testing in Review apps",id:"testing-in-review-apps",level:2},{value:"User Test credentials",id:"user-test-credentials",level:3}],u={toc:p};function c(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"installation"},"Installation"),(0,r.kt)("h4",{id:"1-fork-repository-to-your-account"},"1. ",(0,r.kt)("a",{parentName:"h4",href:"https://github.com/saeloun/miru-web/fork"},"Fork repository")," to your account"),(0,r.kt)("h4",{id:"2-clone-the-repo-to-local"},"2. Clone the repo to local"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ git clone https://github.com/<your-name>/miru-web.git\n")),(0,r.kt)("h4",{id:"3-install-rvm-and-nvm"},"3. Install ",(0,r.kt)("a",{parentName:"h4",href:"https://rvm.io/"},"rvm")," and ",(0,r.kt)("a",{parentName:"h4",href:"https://github.com/nvm-sh/nvm#installing-and-updating"},"nvm")),(0,r.kt)("p",null,"(",(0,r.kt)("strong",{parentName:"p"},"Tip"),": To allow ",(0,r.kt)("inlineCode",{parentName:"p"},"nvm")," to automatically detect and change node versions for\nyour project as you ",(0,r.kt)("inlineCode",{parentName:"p"},"cd")," into the directory follow\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/nvm-sh/nvm#deeper-shell-integration"},"this"),")"),(0,r.kt)("h4",{id:"4-install-ruby"},"4. Install Ruby"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ rvm install $(cat .ruby-version)\n")),(0,r.kt)("h4",{id:"5-install-node-18142can-be-skipped-if-you-followed-the-tip-mentioned-in-3-above"},"5. Install Node 18.14.2(can be skipped if you followed the tip mentioned in (3) above)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ nvm install $(cat .nvmrc)\n")),(0,r.kt)("h4",{id:"6-install-postgres"},"6. Install Postgres"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo apt install postgresql-13\n")),(0,r.kt)("p",null,"Verify postgres is up and running by:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo systemctl status postgresql.service\n")),(0,r.kt)("p",null,"If not, to start it run:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo systemctl enable postgresql.service --now\n")),(0,r.kt)("p",null,"Default superuser is ",(0,r.kt)("inlineCode",{parentName:"p"},"postgres"),". Set password for the user by running:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo -u postgres psql -c \"ALTER USER postgres PASSWORD '<new-password>';\"\n")),(0,r.kt)("h4",{id:"7-install-elasticsearch"},"7. Install Elasticsearch"),(0,r.kt)("p",null,"The Elasticsearch components are not available in Ubuntu\u2019s default package repositories. They can, however, be installed with APT after adding Elastic\u2019s package source list."),(0,r.kt)("p",null,"All of the packages are signed with the Elasticsearch signing key in order to protect your system from package spoofing. Packages which have been authenticated using the key will be considered trusted by your package manager. In this step, you will import the Elasticsearch public GPG key and add the Elastic package source list in order to install Elasticsearch."),(0,r.kt)("p",null,"To begin, use cURL, the command line tool for transferring data with URLs, to import the Elasticsearch public GPG key into APT. Note that we are using the arguments -fsSL to silence all progress and possible errors (except for a server failure) and to allow cURL to make a request on a new location if redirected. Pipe the output of the cURL command into the apt-key program, which adds the public GPG key to APT."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ curl -fsSL https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo apt-key add -\n")),(0,r.kt)("p",null,"Next, add the Elastic source list to the ",(0,r.kt)("inlineCode",{parentName:"p"},"sources.list.d")," directory, where APT will search for new sources:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'$ echo "deb https://artifacts.elastic.co/packages/7.x/apt stable main" | sudo tee -a /etc/apt/sources.list.d/elastic-7.x.list\n')),(0,r.kt)("p",null,"Next, update your package lists so APT will read the new Elastic source:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo apt update\n")),(0,r.kt)("p",null,"Then install Elasticsearch with this command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo apt install elasticsearch\n")),(0,r.kt)("p",null,"Verify Elasticsearch is up and running by:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ systemctl status elasticsearch.service\n")),(0,r.kt)("p",null,"If not, to start it run:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo systemctl enable elasticsearch.service --now\n")),(0,r.kt)("h4",{id:"8-install-redis"},"8. Install Redis"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo apt install redis redis-server\n")),(0,r.kt)("p",null,"Verify redis and redis-server is up and running by:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ systemctl status redis.service\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ systemctl status redis-server.service\n")),(0,r.kt)("p",null,"If not, to start it, run:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo systemctl enable redis.service redis-server.service --now\n")),(0,r.kt)("h4",{id:"9-setup-the-app"},"9. Setup the app"),(0,r.kt)("p",null,"Go to the miru-web app directory"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd miru-web\n")),(0,r.kt)("p",null,"Add database ",(0,r.kt)("inlineCode",{parentName:"p"},"username")," as ",(0,r.kt)("inlineCode",{parentName:"p"},"postgres")," and your ",(0,r.kt)("inlineCode",{parentName:"p"},"password")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"config/database.yml")," under ",(0,r.kt)("inlineCode",{parentName:"p"},"default")," section."),(0,r.kt)("p",null,"Run the initial setup script"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"./bin/setup\n")),(0,r.kt)("h4",{id:"10-run-app-in-local-env"},"10. Run app in local env"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"foreman start -f Procfile.dev\n")),(0,r.kt)("h4",{id:"11-navigate-to-http00003000-for-accessing-the-app"},"11. Navigate to ",(0,r.kt)("a",{parentName:"h4",href:"http://0.0.0.0:3000"},"http://0.0.0.0:3000")," for accessing the app"),(0,r.kt)("h3",{id:"to-receive-the-emails-in-non-production-apps"},"To receive the emails in non-production apps."),(0,r.kt)("p",null,"Go to ",(0,r.kt)("inlineCode",{parentName:"p"},"/sent_emails")," for accessing the emails(for ",(0,r.kt)("inlineCode",{parentName:"p"},"/sent_emails")," route to work,\nadd ",(0,r.kt)("inlineCode",{parentName:"p"},"EMAIL_DELIVERY_METHOD='letter_opener_web'")," to ",(0,r.kt)("inlineCode",{parentName:"p"},".env"),")"),(0,r.kt)("h2",{id:"testing-in-review-apps"},"Testing in Review apps"),(0,r.kt)("h3",{id:"user-test-credentials"},"User Test credentials"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Role"),(0,r.kt)("th",{parentName:"tr",align:null},"Email"),(0,r.kt)("th",{parentName:"tr",align:null},"Password"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Owner"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"mailto:vipul@example.com"},"vipul@example.com")),(0,r.kt)("td",{parentName:"tr",align:null},"welcome")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Admin"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"mailto:supriya@example.com"},"supriya@example.com")),(0,r.kt)("td",{parentName:"tr",align:null},"welcome")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Employee"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"mailto:sam@example.com"},"sam@example.com")),(0,r.kt)("td",{parentName:"tr",align:null},"welcome")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Client"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"mailto:oliver@example.com"},"oliver@example.com")),(0,r.kt)("td",{parentName:"tr",align:null},"welcome")))))}c.isMDXComponent=!0}}]);